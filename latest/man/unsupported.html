<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Common Formatting Issues · uCSV.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>uCSV.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" action="../search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../index.html">Home</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="defaults.html">Getting Started</a></li><li><a class="toctext" href="headers.html">Headers</a></li><li><a class="toctext" href="dataframes.html">Reading into DataFrames</a></li><li><a class="toctext" href="delimiters.html">Delimiters</a></li><li><a class="toctext" href="missingdata.html">Missing Data</a></li><li><a class="toctext" href="declaring-column-element-types.html">Declaring Column Element Types</a></li><li><a class="toctext" href="declaring-column-vector-types.html">Declaring Column Vector Types</a></li><li><a class="toctext" href="international.html">International Representations for Numbers</a></li><li><a class="toctext" href="customparsers.html">Custom Parsers</a></li><li><a class="toctext" href="quotes-escapes.html">Quotes and Escapes</a></li><li><a class="toctext" href="comments-skiplines.html">Skipping Comments and Rows</a></li><li><a class="toctext" href="malformed.html">Malformed Data</a></li><li><a class="toctext" href="url.html">Reading Data from URLs</a></li><li><a class="toctext" href="compressed.html">Reading Compressed Datasets</a></li><li class="current"><a class="toctext" href="unsupported.html">Common Formatting Issues</a><ul class="internal"><li><a class="toctext" href="#Dataset-isn&#39;t-UTF-8-1">Dataset isn&#39;t UTF-8</a></li><li><a class="toctext" href="#Dataset-doesn&#39;t-use-Unix-\\n-or-Windows-\\r\\n-line-endings-1">Dataset doesn&#39;t use Unix <code>\n</code> or Windows <code>\r\n</code> line endings</a></li><li><a class="toctext" href="#[&quot;Smart&quot;-punctation](http://smartquotesforsmartpeople.com/)-1">&quot;Smart&quot; punctation</a></li></ul></li><li><a class="toctext" href="write.html">Writing Data</a></li><li><a class="toctext" href="benchmarks.html">Benchmarks</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Manual</li><li><a href="unsupported.html">Common Formatting Issues</a></li></ul><a class="edit-page" href="https://github.com/cjprybol/uCSV.jl/tree/271d7fd218bda037063e96985b3f1c87fce0abe1/docs/src/man/unsupported.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Common Formatting Issues</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Common-Formatting-Issues-1" href="#Common-Formatting-Issues-1">Common Formatting Issues</a></h1><h2><a class="nav-anchor" id="Dataset-isn&#39;t-UTF-8-1" href="#Dataset-isn&#39;t-UTF-8-1">Dataset isn&#39;t UTF-8</a></h2><p>This package relies heavily on the String capabilities of the base Julia language and implements very little custom text processing. If you see garbled characters output by <code>uCSV.read</code>, there&#39;s a good chance that your dataset is not encoded in UTF-8 and needs to be converted.</p><h3><a class="nav-anchor" id="Recommended-Solutions-1" href="#Recommended-Solutions-1">Recommended Solutions</a></h3><p>For converting your text file to UTF-8, consider using tools like <a href="https://en.wikipedia.org/wiki/Iconv">iconv</a> or <a href="https://github.com/nalimilan/StringEncodings.jl">StringEncodings.jl</a>.</p><h2><a class="nav-anchor" id="Dataset-doesn&#39;t-use-Unix-\\n-or-Windows-\\r\\n-line-endings-1" href="#Dataset-doesn&#39;t-use-Unix-\\n-or-Windows-\\r\\n-line-endings-1">Dataset doesn&#39;t use Unix <code>\n</code> or Windows <code>\r\n</code> line endings</a></h2><p>You&#39;ll probably catch this when you try to read your data and it&#39;s parsed as 1 giant row with <code>\r</code> characters in the fields where you expected new rows to begin. This line ending was used by old Mac OS operating systems and continued to be used by Excel for Mac 2003, 2007, and 2011 long after Mac OS switched to using Unix-style <code>\n</code> line endings.</p><p>Try viewing your file in a command-line plain text viewer like <code>vi</code> or <code>less</code>. If you see <code>^M</code> character sequences at the expected line breaks, you&#39;ll need to convert those to either Unix-style <code>\n</code> or Windows-style <code>\r\n</code> yourself.</p><h3><a class="nav-anchor" id="Recommended-Solutions-2" href="#Recommended-Solutions-2">Recommended Solutions</a></h3><p><strong>Unix/Linux/MacOS</strong></p><p>Using homebrew/linuxbrew</p><pre><code class="language-none">brew install dos2unix
mac2unix my_file.macOS9.csv my_file.unix.csv</code></pre><p>tr</p><pre><code class="language-none">cat my_file.macOS9.csv | tr &#39;\r&#39; &#39;\n&#39; &gt; my_file.unix.csv</code></pre><p>This can also be done with vi, sed, perl, awk, emacs, and many other command line text editing tools. If you&#39;d like to see more examples here and have one to contribute, please open a PR!</p><p><strong>Julia</strong></p><p>if starting with a file</p><pre><code class="language-none">macOS9_io = open(&quot;/path/to/my/file.csv&quot;)
# continue to the next example</code></pre><p>if starting with an <code>IOStream</code></p><pre><code class="language-none">unix_io = IOBuffer(replace(read(macOS9_io, String), &#39;\r&#39;, &#39;\n&#39;))
# this can now be passed to uCSV.read</code></pre><h2><a class="nav-anchor" id="[&quot;Smart&quot;-punctation](http://smartquotesforsmartpeople.com/)-1" href="#[&quot;Smart&quot;-punctation](http://smartquotesforsmartpeople.com/)-1"><a href="http://smartquotesforsmartpeople.com/">&quot;Smart&quot; punctation</a></a></h2><p>Any individual &quot;smart&quot; quote will work, but paired &quot;smart&quot; quotes where beginning and ends are oriented differently are not supported.</p><h3><a class="nav-anchor" id="Recommended-Solutions-3" href="#Recommended-Solutions-3">Recommended Solutions</a></h3><p>Blast them away in your favorite text-editor with find and replace.</p><footer><hr/><a class="previous" href="compressed.html"><span class="direction">Previous</span><span class="title">Reading Compressed Datasets</span></a><a class="next" href="write.html"><span class="direction">Next</span><span class="title">Writing Data</span></a></footer></article></body></html>
